## S2client protocol

Эта библиотека - интерфейс, обеспечивающий полный внешний контроль над StarCraft 2.
Это API предоставляет следующие возможности:

 - Скриптовые боты.
 - Боты на основе машинного обучения.
 - Анализ воспроизведения.
 - Инструмент помог человеку играть.

API доступен для Windows, Mac и Linux.

### Install StarCraft 2

Если игра установлена не в каталоге по умолчанию, то нужно установить системную переменную SC2PATH. При этом конфигурация корневого каталога игры должна вылядить следующим образом:

- StarCraft II/
  - Battle.net/
  - Maps/
  - Replays/
  - SC2Data/
  - Versions/

### Connection

SC2 API построен на базе protobuf протокола, который использует веб-сокеты для соединения. Адрес/порт сервера указывается как

    -listen 127.0.0.1 -port 5000
The SC2API can be accessed by connecting to the websocket URL:

    /sc2api
Вся связь основана на запросах и ответах. Запросы используются для управления состоянием приложения, получения данных и управления игровым процессом а ответы влияют на принятие решений.

Данные, отправленные в игру, должны иметь структуру protobuf, определенных как "запрос". Данные, отправленные из игры, тоже имеют структуру protobuf, определенных как "ответ", Стуктура ответа зависит от типа "запроса".

### State Machine

Текущее состояние приложения содержится в каждом ответе.
Состояния подразделяются:

- **Launched** - игра была запущена и пока ничего не делает.
- **Init_game** - игра была вызвана, и хост ждет игроков.
- **In_game** - в одиночной или многопользовательской игре.
- **In_replay** - в повторе
- **Ended** - игра или повтор закончилась, все еще может запросить информацию об игре, но готова к новой игре.
- **Quit** - приложение завершает работу.

Состояние приложения изменяется с помощью запросов.
Диаграмма общего потока выполнения с помощью запросов, используемых для перехода между состояниями:
![alt text](img/State%20Machine.png "State Machine Diagram")